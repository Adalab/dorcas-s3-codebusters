{"version":3,"sources":["main.js","collapsable.js","textvisor.js","photoeditor.js","reset.js","skills.js","design.js","icons.js","share.js","localstorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.min.js","sourcesContent":["'use strict';\n\n//desplegable\nconst selectorDisena = document.querySelector('.title__disena');\nconst formularioDisena = document.querySelector('.form__disena--fontsColors');\nconst selectorRellena = document.querySelector('.titulo__rellena');\nconst formularioRellena = document.querySelector('.form__rellena');\nconst selectorComparte = document.querySelector('.container__comparte--icon');\nconst formularioComparte = document.querySelector('.form__comparte');\nconst tarjetaCreada = document.querySelector('.container__comparte-created');\nconst botonCrearTarjeta = document.querySelector('.container__comparte--buttonstyle');\nconst botonrotado1 = document.querySelector('.move1');\nconst botonrotado2 = document.querySelector('.move2');\nconst botonrotado3 = document.querySelector('.move3');\n//escritura automatica visor\nconst nameField = document.querySelector('.input__name');\nconst roleField = document.querySelector('.input__job');\nconst visorName = document.querySelector('.visor__view-name');\nconst visorJob = document.querySelector('.visor__view-profession');\n//foto editor\nlet fr = new FileReader();\nconst uploadBtn = document.querySelector('.form__rellena--button');\nconst fileField = document.querySelector('#imagen');\nconst profileImage = document.querySelector('.visor__image-foto');\nconst formImage = document.querySelector('.form__rellena--reload ');\n//boton resetreset\nconst resetButton = document.querySelector('.visor__button-reset');\nconst visorContainer = document.querySelector('.visor__container1');\nconst visorSkills = document.querySelector('.visor__skills');\nconst formRellenaSkills = document.querySelector('.form__rellena--skills');\n//diseña cambio color\nconst cardContainer = document.querySelector('.visor__container1');\nconst radios = document.querySelectorAll('.point');\nconst radiosFont = document.querySelectorAll('.point1');\n//Habilidades\nlet counterSkills = 0;\nlet skillsToSave =[];\nlet skills = [];\n//iconos\nconst searchPhone = document.querySelector('.rellena__phone');\nconst searchLinkedin = document.querySelector('.rellena__linkedin');\nconst searchMail = document.querySelector('.rellena__email');\nconst searchGithub = document.querySelector('.rellena__github');\n//link\nconst responseURL = document.querySelector('.container__comparte-link');\n//localStorage\nlet userForm = {};\n","\n//desplegables\nconst desplegarDisena = () => {\n  if (formularioDisena.classList.contains('form__oculto')) {\n    formularioDisena.classList.remove('form__oculto');\n    formularioRellena.classList.add('form__oculto');\n    formularioComparte.classList.add('form__oculto');\n    botonrotado1.classList.add('rotate');\n  } else {\n    formularioDisena.classList.add('form__oculto');\n    botonrotado1.classList.remove('rotate');\n  }\n};\n\nfunction desplegarRellena() {\n  if (formularioRellena.classList.contains('form__oculto')) {\n    formularioRellena.classList.remove('form__oculto');\n    formularioDisena.classList.add('form__oculto');\n    formularioComparte.classList.add('form__oculto');\n    botonrotado2.classList.add('rotate');\n  } else {\n    formularioRellena.classList.add('form__oculto');\n    botonrotado2.classList.remove('rotate');\n  }\n}\nfunction desplegarComparte() {\n  if (formularioComparte.classList.contains('form__oculto')) {\n    formularioComparte.classList.remove('form__oculto');\n    formularioDisena.classList.add('form__oculto');\n    formularioRellena.classList.add('form__oculto');\n    botonrotado3.classList.add('rotate');\n  } else {\n    formularioComparte.classList.add('form__oculto');\n    botonrotado3.classList.remove('rotate');\n  }\n}\nfunction crearTarjeta() {\n  if (tarjetaCreada.classList.contains('form__oculto')) {\n    tarjetaCreada.classList.remove('form__oculto');\n  } else {\n    tarjetaCreada.classList.add('form__oculto');\n  }\n  sendRequest(userForm);\n}\nconsole.log ('hola');\n\nselectorDisena.addEventListener('click', desplegarDisena);\nselectorRellena.addEventListener('click', desplegarRellena);\nselectorComparte.addEventListener('click', desplegarComparte);\nbotonCrearTarjeta.addEventListener('click', crearTarjeta);\n","\n//escritura automática visor\nfunction writeData(event) {\n  var guiltyElement = event.currentTarget;\n  var targetID = guiltyElement.getAttribute('data-donde');\n  var formProperty = guiltyElement.getAttribute('data-property');\n  document.querySelector('#' + targetID).innerHTML = guiltyElement.value;\n  saveForm(formProperty,guiltyElement.value);\n}\nconsole.log('aios');\nnameField.addEventListener('keyup', writeData);\nroleField.addEventListener('keyup', writeData);\n","'use strict';\n\n//foto editor\nconst getImage = e => {\n  const myFile = e.currentTarget.files[0];\n  fr.addEventListener('load', function(){\n    writeImage(fr.result);\n  });\n  fr.readAsDataURL(myFile);\n}\nconst writeImage = photo => {\n  profileImage.src = photo;\n  formImage.style.backgroundImage = 'url(' + photo + ')';\n  saveForm('photo', photo);\n}\nconst fakeFileClick = () => {\n  fileField.click();\n\n}\nfileField.addEventListener('change', getImage);\nuploadBtn.addEventListener('click', fakeFileClick);\nconsole.log('soy photoeditor');\n","// BOTON RESET\nfunction visorDesignAuto() {\n  visorContainer.classList.remove('red');\n  visorContainer.classList.remove('grey');\n}\nfunction visorImageAuto() {\n  profileImage.src = './images/flamingocardsok.jpg';\n  formImage.style.backgroundImage = 'url(\"./images/flamingocardsok.jpg\")';\n}\nfunction formAuto() {\n  nameField.value = '';\n  roleField.value = '';\n  searchPhone.value = '';\n  searchLinkedin.value = '';\n  searchMail.value = '';\n  searchGithub.value = '';\n\n}\nfunction visorAuto() {\n  visorName.innerHTML = 'Nombre y apellidos';\n  visorJob.innerHTML = 'Empleo';\n\n  visorImageAuto();\n  visorDesignAuto();\n  formAuto();\n  resetFont();\n\n  visorSkills.classList.add('form__oculto');\n}\nresetButton.addEventListener('click', visorAuto);\n","\n//Habilidades\nfunction createSelect(entryskills) {\n  var inputSelect = document.createElement('select');\n  inputSelect.name = 'skills';\n  inputSelect.id = 'skills' + counterSkills;\n  inputSelect.classList.add('select_skills');\n  inputSelect.setAttribute('data-index', counterSkills);\n  for (var i = 0; i < entryskills.length; i++) {\n    var createOption = document.createElement('option');\n    createOption.value = entryskills[i];\n    inputSelect.appendChild(createOption);\n    createOption.innerHTML = entryskills[i];\n  }\n  inputSelect.addEventListener('change', skillAgregator);\n  formRellenaSkills.appendChild(inputSelect);\n}\nfunction skillAgregator(e){\n  var activeSelect = e.currentTarget;\n  var activeSkills = document.querySelector('#selected' +  activeSelect.id);\n  activeSkills.innerHTML= activeSelect.value;\n  visorSkills.classList.remove('form__oculto');\n  skillsToSave[activeSelect.getAttribute('data-index')] = activeSelect.value;\n  saveForm('skills', skillsToSave);\n}\nfunction serverConector() {\n  fetch(\n    'https://raw.githubusercontent.com/Adalab/dorcas-s2-proyecto-data/master/skills.json'\n  )\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(json) {\n      skills = json.skills;\n      addSkills();\n      includeLocalStorage();\n    });\n}\nfunction addSkills() {\n  if (counterSkills < 3) {\n    createSelect(skills);\n    createPlusButton();\n    counterSkills = counterSkills + 1;\n  }\n}\nserverConector();\nfunction createPlusButton() {\n  var plusButton = document.createElement('a');\n  var divButton = document.createElement('div');\n  var iButton = document.createElement('i');\n  divButton.classList.add('form__rellena--plus');\n  divButton.classList.add('color--orange');\n  divButton.classList.add('addSkill');\n  iButton.classList.add('fas');\n  iButton.classList.add('fa-plus');\n  iButton.classList.add('color--orange');\n  divButton.appendChild(iButton);\n  plusButton.appendChild(divButton);\n  formRellenaSkills.appendChild(plusButton);\n  plusButton.addEventListener('click', serverConector);\n}\n","\n//diseña cambio color\nfunction init() {\n  for (var i = 0; i < radios.length; i++) {\n    radios[i].addEventListener('click', setStyles);\n  }\n}\nfunction setStyles(event) {\n  var newColor = event.currentTarget.getAttribute('data-color');\n  var value = event.currentTarget.value;\n  resetColor();\n  if (newColor !== '') {\n    cardContainer.classList.add(newColor);\n  }\n  saveForm('palette', parseInt(value));\n}\nfunction resetColor() {\n  cardContainer.classList.remove('red', 'grey');\n}\ninit();\n//diseña cambio de fuentes\nfunction initFont() {\n  for (var i = 0; i < radiosFont.length; i++) {\n    radiosFont[i].addEventListener('click', setStylesFont);\n  }\n}\nfunction setStylesFont(event) {\n  var newFont = event.currentTarget.getAttribute('data-font');\n  var value = event.currentTarget.value;\n  resetFont();\n  if (newFont !== '') {\n    cardContainer.classList.add(newFont);\n  }\n  saveForm('typography', parseInt(value));\n}\nfunction resetFont() {\n  cardContainer.classList.remove('comic', 'montserrat');\n}\ninitFont();\n","\n//iconos\nsearchPhone.addEventListener('keyup', linkSocials);\nsearchLinkedin.addEventListener('keyup', linkSocials);\nsearchMail.addEventListener('keyup', linkSocials);\nsearchGithub.addEventListener('keyup', linkSocials);\n\nfunction linkSocials(event) {\n  var guiltyForm = event.currentTarget;\n  var rrssId = guiltyForm.getAttribute('data-rrss');\n  if (guiltyForm.classList.contains('rellena__phone')) {\n    document.querySelector('#' + rrssId).href = 'tel:' + guiltyForm.value;\n  } else if (guiltyForm.classList.contains('rellena__email')) {\n    document.querySelector('#' + rrssId).href = 'mailto:' + guiltyForm.value;\n  } else {\n    document.querySelector('#' + rrssId).href = 'https://' + guiltyForm.value;\n  }\n  var formProperty = guiltyForm.getAttribute('data-property');\n  saveForm(formProperty,guiltyForm.value);\n}\n","'use strict';\n\n// Crear enlace\nfunction sendRequest(userForm){\n  fetch('https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/', {\n    method: 'POST',\n    body: JSON.stringify(userForm),\n    headers: {\n      'content-type': 'application/json'\n    },\n  })\n    .then(function(resp) { return resp.json(); })\n    .then(function(result) { showURL(result); })\n    .catch(function(error) { console.log(error); });\n}\nfunction showURL(result){\n  if(result.success){\n    responseURL.innerHTML = '<a href=' + result.cardURL + '>' + result.cardURL + '</a>';\n  }else{\n    responseURL.innerHTML = 'ERROR:' + result.error;\n  }\n}\n//BOTON TWITTER\nvar twitterShare = document.querySelector('.container__comparte--button-twitter');\n\ntwitterShare.onclick = function(e) {\n  var linkTwitter = document.querySelector('.container__comparte-link  a').href;\n  e.preventDefault();\n  var twitterWindow = window.open('https://twitter.com/share?url=' + linkTwitter, 'twitter-popup', 'height=350,width=600','590','253');\n  if(twitterWindow.focus) { twitterWindow.focus(); }\n  return false;\n};\n","'use strict';\n\n//localStorage\nconst includeLocalStorage = () => {\n  const disponible = isAvailableForm();\n  if (disponible) {\n    const result = localStorage.getItem('userForm');\n    userForm = JSON.parse(result);\n    const resultArray = Object.keys(userForm);\n    resultArray.map(clave => {\n      const elem = findElementToModify(clave);\n      modifyElement(clave, elem);\n    });\n  } else {\n    userForm = {};\n  }\n}\n\nconst findElementToModify = clave => {\n  let elem = document.querySelector('.input__' + clave);\n  if (clave === 'palette' || clave === 'typography') {\n    elem = document.querySelector('.input__' + clave + '_' + userForm[clave]);\n  }\n  return elem;\n}\nconst modifyElement = (clave, elem) => {\n  if (clave === 'photo') {\n    writeImage(userForm[clave]);\n  } else if (clave === 'palette' || clave === 'typography') {\n    elem.setAttribute('checked', 'checked');\n  } else if (clave === 'skills') {\n    printSkills();\n  } else {\n    elem.value = userForm[clave];\n  }\n}\n\nconst printSkills = () => {\n  for (var i = 0; i < userForm.skills.length; i++) {\n    const selectElement = document.querySelector('#skills' + i);\n    if (selectElement === null) {\n      addSkills();\n      selectElement = document.querySelector('#skills' + i);\n    }\n    checkSelectedOption(selectElement, i);\n  }\n}\nconst checkSelectedOption = (selectElement, i) => {\n  for(const option of selectElement.options) {\n    if (option.value === userForm.skills[i]) {\n      option.setAttribute('selected', 'selected');\n    }\n  }\n}\nconst saveForm = (clave,valor) => {\n  userForm[clave] = valor;\n  localStorage.setItem('userForm', JSON.stringify(userForm));\n}\nconst isAvailableForm = () => {\n  return localStorage.getItem('userForm') !== null;\n}\n"]}